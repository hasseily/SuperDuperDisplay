[Variables]
app_version = 0.0.0

[Introduction]
Welcome to SuperDuperDisplay!

SuperDuperDisplay (otherwise called SDD) is a hybrid emulation frontend for Appletini, the Apple //e bus multi-card.
SDD currently provides advanced video output, sound, music (via a virtual Mockingboard card) and clock and mouse input for the Appletini card.

Please see the section "UI Navigation" for how to use the extensive user interface (toggled with F1) of SDD.

[Getting Started]
1. Connect your Apple //e “Appletini” bus card via a USB-3 cable.

2. Launch `SuperDuperDisplay`.

3. Turn on your Apple //e, you'll see the live video feed in SDD.

4. Use the F1 Menu to configure video, sound, networking, etc.

[Features]
  • Real‑time beam racing display engine of all standard (legacy) Apple II modes, including single resolution (TEXT, LGR, HGR), double resolution (DTEXT, DLGR, DHGR), the Apple IIgs SHR mode, as well as some other special modes from RGB cards such as the Chat Mauve EVE SPEC1, SPEC2 and COL140MIXED

  • Native support for SHR4 and SHR-3200 modes
  
  • NTSC shader for standard Apple II modes

  • Post-processing shader with dozens of features such as CRT emulation features, bezel reflections, etc...

  • Precise volume and panning control of speaker sound and Mockingboard

  • Mouse locking (your mouse becomes an Apple II mouse)

  • Real-time memory viewer and memory heat map

  • Bus event recording and replay

  • Visualization in real-time of any chunk of memory in any standard Apple II mode (up to 30 simultaneous windows)

  • Support for both NTSC and PAL motherboards

[UI Navigation]
 - MOUSE CONTROLS
   - Mouse wheel:                   Scroll vertically.
   - SHIFT+Mouse wheel:             Scroll horizontally.
   - Click [X]:                     Close a window (when availabe).
   - Click ^, Double-Click title:   Collapse window.
   - Drag on corner/border:         Resize window (double-click to auto fit to content).
   - Drag on any empty space:       Move window.
   - Left-click outside popup:      Close popup stack.

 - TEXT EDITOR
   - Hold SHIFT or Drag Mouse:      Select text.
   - CTRL+Left/Right:               Word jump.
   - CTRL+Shift+Left/Right:         Select words.
   - CTRL+A or Double-Click:        Select All.
   - CTRL+X, CTRL+C, CTRL+V:        Use OS clipboard.
   - CTRL+Z                         Undo.
   - CTRL+Y or CTRL+Shift+Z:        Redo.
   - ESCAPE:                        Revert text to its original value.

 - KEYBOARD CONTROLS
   - Tab, SHIFT+Tab               Cycle through text editable fields.
   - CTRL+Tab, CTRL+Shift+Tab     Cycle through windows.
   - CTRL+Click                   Input text into a Slider or Drag widget.
   - Tab, SHIFT+Tab:              Cycle through every items.
   - Arrow keys                   Move through items using directional navigation. Tweak value.
   - Arrow keys + Alt, Shift      Tweak slower, tweak faster (when using arrow keys).
   - Enter                        Activate item (prefer text input when possible).
   - Space                        Activate item (prefer tweaking with arrows when possible).
   - Escape                       Deactivate item, leave child window, close popup.
   - Page Up, Page Down           Previous page, next page.
   - Home, End                    Scroll to top, scroll to bottom.
   - Alt                          Toggle between scrolling layer and menu layer.
   - CTRL+Tab then Ctrl+Arrows    Move window. Hold SHIFT to resize instead of moving.

[SDD Menu]
• VSYNC
    VSYNC is the idea of rendering of frames being "vertical synching" with something. SDD can synchronize with:

    - The monitor: SDD will draw a frame every time the monitor refreshes. Whatever your screen refresh rate is, SDD will try to adapt to it. The positive is that you never have banding or flickering, but the negative is that if your screen has a very fast refresh rate, then you're wasting a lot of energy rendering frames that are useless. There's no need to render at 240 FPS the Apple II video.

    - The Appletini: SDD will draw a frame whenever your Apple's video generator finishes one pass. If your Apple is a NTSC machine, then SDD will run at 60 FPS. If it's a PAL machine, then 50 FPS. The positive is that you optimize the use of resources. When the Apple finishes drawing the screen, SDD draws it. The negative is that if you want to use some of the eye candy of postprocessing, then you probably want higher refresh rates.

    - No VSYNC: You choose what you want. Enjoy. Note though that it isn't recommended to run under no FPS limit on fast machines, as the amount of resources (and energy) used will be considerable and totally wasted. SDD will use as much power as possible to render as fast as possible. This is fine for quick performance tests, but don't waste resources.

• Background Color
    You can tweak the color of the background of the window of SDD, i.e. whatever is visible beyond the borders of the Apple II video. Why would you do it? Because you can.

• Appletini
    This menu item tells you the state of the Appletini communication. If SDD can't find the Appletini, this is where you'll know.

• Reset SDD
    Probably not something you'll use. It essentially restarts SDD without quitting and restarting.

• Samples
    A set of sample images and videos to showcase the capabilities of SDD.

• HUD Log
    Set the position and time of log messages on screen.

• The rest...
    Self explanatory.

[Motherboard Menu]
This menu handles interaction with the Apple II's motherboard hardware.

Region  
  PAL / NTSC  
    Choose the video standard of your Apple II:
      • PAL (50 Hz)
      • NTSC (60 Hz)

  VBL Start Shift
    Manually adjust the vertical‐blank start position in CPU cycles to fine‑tune frame timing. Use the - arrow for stepwise shifts. This is purely for debugging. If you don't understand this, don't worry and don't spend a nanosecond thinking about it.

  NOTE: The PAL/NTSC and VBL are expected in the future to be automatically handled by the Appletini. The only reason to manually choose them would be when running SDD without the Appletini, and using recordings.

  TODO: Include in recording headers the region and other settings.

Character ROMs  
  Choose between multiple options to select regular and alternate text font ROM images.

Apple //e Memory  
  Launch the built‑in Apple //e memory editor for inspecting and modifying RAM contents.

Apple //e Memory Heat Map  
  Toggle a heat‑map overlay showing recent memory write hotspots.

Apple Mouse (F5)  
  Enable or disable Apple Mouse relative mode. Press F5 for a quick toggle.

Apple Mouse Speed  
  Adjust pointer sensitivity with a slider (0.0 – 1.0). Higher values increase cursor movement per physical motion.

[Video Menu]
This menu gives you access to the video options of SDD.

• The Apple II Video Settings entry (F2) opens the video settings window that controls the Apple II features of the beam rendering engine. See the Apple II Video Settings section for more information.

• The Post Processor Settings entry (F3) opens the post processor window, which gives you complete control over how much eye candy you want to apply to the video output. See the Post Processor Settings section for more information.

• On-Screen FPS (F8) shows the FPS (frames per second) of SDD. If your FPS drops below 50 for PAL or 60 for NTSC, then you're getting less frames per second than the Apple II itself. You probably won't see much of a difference until it dips below 30, but it is recommended to reduce the post processing, turn off NTSC mode or make the resolution smaller to increase the FPS above 60.

• Reset FPS: the calculation of FPS is smoothed over many seconds. Resetting the calculation removes the history.

• Screenshots: see the "Screenshots" section

[  Apple 2 Video Settings (F2)]
This window provides real‑time control over the Apple II video beam rendering.
Note that whenever "legacy modes" are mentioned, these are the 8-bit Apple II modes, not the SHR mode of the Apple IIgs.

Run Vertical Refresh:  
  Forces a full‑screen beam render at the next vertical retrace.

Frame ID:
  Shows the buffer number, alternating between 0 and 1 (double buffering).

[    Borders and Width]
Borders are a feature of the Apple IIgs but Appletini adds support for borders for the 8-bit machines.

Horizontal Borders:
  Adjust left/right border width in CPU cycles (0–7).

Vertical Borders:
  Adjust top/bottom border height in multiples of 8 scanlines (0–3).

Border Color (0xC034):
  Choose the border color nibble (0=black…15=white).

Align Legacy to SHR Vertically:
  Aligns the legacy image’s vertical origin to match the SHR mode.
  This shifts the legacy image up by 4 pixels (192px vs 200px)

Force SHR width in merged mode:
  Stretches the legacy image horizontally to match the SHR output (560px vs 640px).

No wobble in merged mode:
  Disables the wobble effect when switching legacy/SHR modes mid‑frame.
  The wobble happens because legacy and SHR have different frequencies.

Demo Merged Mode:
  Toggles a demo mid‑frame switch between SHR and legacy modes.

Wobble Power:
  Sets wobble strength (0.0–0.3); ~0.2 is a realistic value.

Monitor Type:  
  Select phosphor color profile (Color, White, Green, Amber). Changes force a beam render.
  Use of monochrome modes (anything other than "Color") removes all color artifacting.

NTSC (Color only):
  Enables NTSC signal simulation. When checked, shows:
    • Clean Text — adds a mono filter to text
    • NTSC Strength (0.05–1.0) — tune the power of the NTSC filter. Standard is 0.5.
    • NTSC Comb Strength (0.0–1.0) — tune color comb filter (0.8 for Model I, 0.9 for Model II)
    • NTSC Gamma Correction (0.5–4.0) — adjust gamma (2.2 for sRGB, 2.5 for NTSC)

[    VidHD Text Modes]
The modern VidHD card has an extra feature to draw high resolution text on screen. The Appletini adds support for these text modes, which are automatically enabled in software. The below settings force a different behavior when selected, and are unnecessary when in normal operation.

VidHD Text Modes:
  Force a VidHD text resolution: OFF, 40×24, 80×24, 80×45, 120×67, 240×135.

Text Color FG (0xC022):
  Set the high‑nibble of the text foreground color (0–15).

Text Color BG (0xC022):
  Set the low‑nibble of the text background color (0–15).

Text Alpha FG / BG:
  Adjust alpha transparency for foreground/background (0–15).

[    Legacy Extra Modes]
These modes are special video modes found in some variants of RGB cards available in the 80s. While they're generally automatically enabled in software, the software may not know that the Appletini is capable of these modes. Use the below settings to force activate these modes.

HGR SPEC1:
  HGR variant treating bit pattern 11011 as black (EVE RGB card).  

HGR SPEC2:
  HGR variant treating bit pattern 00100 as white (EVE RGB card).

DHGR COL140 Mixed:
  Mixes 16‑color and B/W in DHGR (used by some RGB cards).

[    Legacy Paging]
This feature is unique to SDD. It provides the ability for the renderer to interlace or page flip pairs of frames in memory.
This allows for either double the vertical resolution, or many more colors that are created by rapid page flipping.
It works as follows: for any legacy mode, it doubles the usage of memory by using both pages at once.
For example, in HGR it uses simultaneously HGR1 at memory $2000, and HGR2 at memory $4000.
When in interlace mode, page 1 is the even lines and page 2 is the odd lines.
When in page flip mode, each frame alternates rendering pages 1 and 2.

[    SHR Extra Modes]
SHR4 extra modes are also currently unique to SDD. They are 3 newly invented SHR modes by the community, led by fatdog. They are:
  RGGB: A mode where each final pixel is generated by 2x2 input pixels (a Bayer filter). Similar to digital camera sensors.
  PAL256: A mode where the SHR image can use one large palette of 256 colors, anywhere on screen.
  R4G4B4: A mode where each pixel has an independently generated color (no palettes), of 4 bits each of Red, Green and Blue.

SDD also natively handles the "Brooks-3200" mode, invented by John Brooks (of current VidHD fame) decades ago. The SHR 3200 mode allows for a unique palette of 16 colors for each of the 200 lines of the image.
If a programmer writes in memory the correct magic string and a pointer to where the 200 palettes are, SDD generates the image without any additional work by the programmer.

OVERRIDE  
Override SHR4 Mode:  
  Force a specific SHR4 mode: None, Force SHR, Force RGGB, Force PAL256, Force R4G4B4, Force 3200.  

Force Double SHR: (Similar to legacy paging)
  Choose double SHR paging behavior: Default, Disable, Interlace, Page Flip.


[  Post Processor Settings (F3)]
This window lets you configure the real‑time CRT post‑processing shader and manage presets.

Reset to defaults  
  Restores all shader parameters to their default values.

[    Presets]
Load
  Open a file dialog to choose a `.json` preset from `./presets/` and apply it.  

Name
  Edit the preset name before saving (defaults to “Untitled” if blank).

Save
  Open a file dialog to choose a save location under `./presets/` and write the current settings as a `.json` preset.

[    Postprocessing Level]
None
  Disable all post‑processing (fastest, with optional bezel).  

Scanline only
  Apply simple alternating scanlines (very fast, with optional bezel).

Full CRT
  Enable the Super Duper CRT shader for full scanline, blur, mask, convergence, etc.

Shader Programming (Full CRT only)  
Select (advanced users only!)
  Open a file dialog rooted at `./shaders/` to choose a custom GLSL shader for the CRT effect. Unnecessary in normal operation.

[    Base Integer Scale]
SDD always zooms by default in integer scale, to keep pixel-perfect scaling. This can be overridden for precision with the "Image Zoom" sliders in "Geometry & Overlay".

Auto
  Automatically choose the largest integer scale that fits the window.

Integer Scale
  Manually set the integer scaling factor.

[    Geometry & Overlay]
Fill Window
  Stretch the image to fill the window and reset zoom/center.

Image Zoom / Uniform
  Drag to zoom the image; tick “Uniform” to lock X=Y.

Image Center
  Adjust the X/Y offset of the image in pixels.

Image (Overlay)
  Select a bezel overlay image from the available files. Some overlays expect the Apple II screen to be offset to the side, so you'll need to move it with the "Image Center" and "Image Zoom" sliders to align correctly with the overlay.

Overlay Relative Width / Height
  Scale the bezel overlay relative to the image.

Glass Thickness
  (If supported) Adjust bezel “glass” thickness multiplier. Some FPS impact.

Bezel Reflection
  Set reflection strength; requires manual tuning per bezel.

Reflection Blur
  Blur amount for the reflected region. Be generous with the blur, reality is blurry!

Reflection Scale / Center
  Drag to position and scale the reflected texture; check “Uniform” for lock. In general, move the sliders so that the red lines are just around the main Apple II output.

[    Frame Merging]
Merge Frame Pairs
  Combine even and odd frames to remove flicker. WARNING: halves framerate, but removes any flickering associated with page flipping images. In general you should keep this unchecked.

[    Scanline Type]
None
  No scanline effect.

Simple
  Fixed‑width scanlines (enables scanline weight defaults).

Complex
  Dynamic scanlines with weight, speed, grain, vignette, and interlacing controls. You should generally tweak color settings (further down) when using the complex scanline type.

Scanline Weight / Speed  
  Adjust thickness and movement of complex scanlines.

Film Grain
  Add high‑frequency noise to simulate film grain.

Vignette Weight
  Darken edges to simulate CRT falloff. Works better when there's distortion.

Interlacing
  Introduce vertical interlacing artifacts. If you really want to feel the pain of bad refresh rates. WARNING: may induce epilepsy!

[    Blur & Ghosting]
Phosphor Blur
  Blur strength for phosphor bloom.

Glow
  Toggle additional glow effect.

Ghosting Amount
  Mix previous frames to simulate phosphor persistence. WARNING: SIGNIFICANT FPS IMPACT!
  Yo may want to add in a bit of ghosting to smooth animations, if you have enough extra FPS to spare. Overdo it to emulate the Apple /// monitor, which was infamous for its horrible ghosting.

[    Mask Settings]
None / CGWG / RGB
  Select mask pattern type: none, CGWG lattice, or RGB subpixel.

Mask Size
  Scale the mask grid. Generally 1.0 or 3.0 are good values.

Slot Mask On/Off
  Toggle the slot‑mask overlay.

Slot Mask Width
  Width factor for slot‑mask bars.

Subpixels BGR/RGB
  Swap subpixel ordering for mask.

Mask Brightness Dark / Bright
  Adjust brightness of mask dark and bright regions.

[    Advanced Geometry]
Curvature / Uniform
  Drag to bend the image corners (lock X=Y with “Uniform”). It may be preferable to use "Barrel Distortion" instead.

Barrel Distortion
  Apply barrel or pincushion distortion.

Corners Cut / Smooth
  Cut or round the corners of the CRT barrel shape.

[    Color Settings]
Use OKlab instead of linear RGB
    OKlab uses more resources but is better for adjusting color parameters.

Brightness
  Adjust brightness.

Contrast
  Adjust contrast.

Black Level
  Adjust video black point.

Saturation
  Color saturation multiplier.

Hue (in OKLab color scale)
    Tweak hue around center.

Green<->Red Hue, Blue<->Red Hue, Blue<->Green Hue (in linear RGB)
  Tweak individual color channel hue shifts.

Scan/Mask Brightness Dependence
  How much mask intensity affects brightness.

Color Space
  Choose color gamut: sRGB, PAL, NTSC‑U, NTSC‑J.

[    Convergence Settings]
Convergence Overall Strength  
  Global convergence offset (warning: FPS impact).
  
Convergence Red/Green/Blue X‑Axis
  Per‑channel horizontal convergence adjustments.


[Soft Switch Controls]
The following Apple II soft switches can be toggled in the panel:
  • `A2SS_TEXT`, `A2SS_80STORE`, `A2SS_HIRES`, `A2SS_DHGR`  
  • `A2SS_DHGRMONO`, `A2SS_SHR`, `A2SS_MIXED`, `A2SS_GREYSCALE`  

[Sound Output]
- **Mockingboard 6522**: enable or disable in the Sound Manager tab  
- **SSI‑263 Speech**: experimental — phoneme data may need updating  

[Networking]
- **SDHRNetworking**: stream frames over LAN  
- Configure host/IP and port in the Networking tab, then connect to your Apple II bus card  

[Event Recording & Playback]
- **Record Events**: open the “Recording” menu and choose “Start Recording”  
- **Stop Recording**: select “Stop Recording”  
- **Playback**: use “Load Recording” to replay a captured session  
[    Load Recording]
SDD provides the ability to load not only its own recordings (.vcr extension),
but also extended PaintWorks Animation files, commonly known as PWA or #C20000 files.
SDD extends the PWA format to allow any kind of SHR image as the first frame, and can
therefore visualize even the largest interlaced SHR3200 animations.

[Screenshots]
In addition to your platform OS's screenshot tools and shortcuts, SDD provides its own screenshot capabilities.
All screenshots from SDD can be found inside the /screenshots subdirectory of the application.
There are 3 types of screenshots, which are triggered either by a function key or the menu:
  • F6: Capture everything (both windows + menus)
  • Shift + F6 or "Video -> Screenshot (No Post Processing)" menu entry: capture only the raw, non‑post‑processed output (560×384 or 640×200 if borders disabled)
  • "Video -> Screenshot (After Post Processing)" menu entry: capture the main window without any of the UI
You can switch between BMP and PNG for screenshot format from the menu. PNG is recommended for their smaller size.

[Troubleshooting]
- Blank output? Verify USB connectivity and card power.  
- OpenGL errors? Check console log for “GL CALLBACK” messages.  
- Permission issues? Ensure write access in the working directory for recordings/screenshots.  

[About]
SuperDuperDisplay v${app_version}
© 2025 Henri Asseily et al. — MIT License
Software: Henri "Rikkles" Asseily
Design & Firmware: John "Elltwo" Flanagan
Appletini logo by Rikkles & Fatdog
